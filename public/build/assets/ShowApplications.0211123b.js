import{d as g,u as v,p as M,o as p,c as N,w as o,a as s,t as l,b as n,v as h,D as A,g as a,E as w,e as _,h as B,F as T,i as u,f as y,L as D}from"./app.fae2fa02.js";import{_ as F,a as k,b as U}from"./AppLayout.1fa06154.js";import"./_defineProperty.70a99434.js";import{m as z}from"./mapValues.2d15cb62.js";import{C as E}from"./vue-select.e95b6ab0.js";import{d as C,r as O}from"./relativeTime.f8aac79c.js";import{a as J}from"./DialogModal.3100aae9.js";import{_ as R}from"./Button.217ae580.js";import{_ as j}from"./InputError.89f3ab36.js";import{_ as I}from"./SecondaryButton.12ec8518.js";import"./_plugin-vue_export-helper.cdc0426e.js";const P={class:"w-full flex justify-center gap-4"},W={class:"flex-1"},q={class:"font-semibold text-xl text-gray-800 leading-tight"},G={class:"flex"},H={class:"hidden space-x-8 p-2 sm:-my-px sm:ml-10 sm:flex hover:bg-orange-50"},K=u(" Jobs detils "),Q=s("div",{class:"hidden space-x-8 p-2 sm:-my-px sm:ml-10 sm:flex bg-orange-50"}," Applications ",-1),X={class:"hidden space-x-8 p-2 sm:-my-px sm:ml-10 sm:flex hover:bg-orange-50"},Y=u(" Logs "),Z={class:"py-12"},ss={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ts={class:"flex mb-4 w-full justify-between"},es={class:"flex flex-row w-3/5"},os={class:"w-44"},as=s("option",{value:null},"STATUS",-1),ls=s("option",{value:"0"},"With Trashed",-1),ns=s("option",{value:"1"},"Paid",-1),is=[as,ls,ns],ds={class:"flex w-full bg-white shadow rounded"},rs={class:"overflow-x-auto w-full pb-60"},cs={class:"w-full whitespace-no-wrap"},ps=s("thead",null,[s("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 bjob-b"},[s("th",{class:"px-4 py-3"},"#"),s("th",{class:"px-4 py-3"},"Candidate"),s("th",{class:"px-4 py-3"},"infos"),s("th",{class:"px-4 py-3"},"Status"),s("th",{class:"px-4 py-3"},"source"),s("th",{class:"px-4 py-3"},"Action")])],-1),us={class:"bg-white divide-y"},_s={class:"px-4 py-3 text-sm"},ms={class:"flex flex-col"},hs={class:"mb-1"},xs={class:"px-4 py-3 text-sm"},fs={class:"flex flex-row"},bs={class:"mb-1"},gs={class:"px-4 py-3 text-sm"},vs={class:"flex flex-row"},ws={class:"mb-1"},ys=s("span",null,null,-1),ks={class:"px-4 py-3 text-sm"},Cs={class:"flex flex-col"},js={key:0,class:"p-1 text-sm bg-green-50 text-green-700 rounded animate-pulse"},$s={class:"font-bold text-xs"},Vs={class:"px-4 py-3 text-sm"},Ss={class:"text-xs mr-2"},Ls={class:"px-4 py-3 text-sm"},Ms={class:"flex items-end justify-end"},Ns={class:"text-xs mr-8"},As=s("button",null,[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})])],-1),Bs=s("span",{class:""},"Infos",-1),Ts=s("h2",{class:"font-bold text-2xl mb-6 text-gray-800 border-b pb-2"},[s("span",{class:"inline-block"},"Link candidate to this job")],-1),Ds={class:"w-full bg-white block"},Fs={class:"mb-4"},Us=s("label",{class:"text-gray-800 block mb-1 font-bold text-sm uppercase tracking-wide"},"Liste ",-1),zs={class:"text-sm"},Es={key:0,class:"ml-8 text-orange-600"},Os={class:"mb-12"},Js=s("label",{class:"text-gray-800 block mb-1 font-bold text-sm uppercase tracking-wide"},"Description",-1),Rs=u(" Close "),Is=s("span",{class:"flex-1 mr-2"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),Ps=u(" Link "),et={__name:"ShowApplications",props:{jobs:Object,organization:Object,candidates:Object},setup(m){var f;const x=m;C.extend(O),g(null);const r=g(!1),c=v({search:"",trashed:null}),i=v({position_id:(f=x.jobs)==null?void 0:f.id,candidate_id:null,ratings:3,source:""}),$=()=>{i.post(route("applications.store"),{onSuccess:()=>{i.candidate_id=null,r.value=!1},onError:d=>{console.log(d)}})};M(()=>{});const V=()=>{c=z(c,()=>null)};return(d,e)=>(p(),N(F,{title:"One Job"},{header:o(()=>[s("div",P,[s("div",W,[s("h2",q," Jobs / "+l(m.jobs.name),1)]),s("div",G,[s("div",H,[n(k,{href:d.route("dashboard"),active:d.route().current("dashboard")},{default:o(()=>[K]),_:1},8,["href","active"])]),Q,s("div",X,[n(k,{href:d.route("dashboard"),active:d.route().current("dashboard")},{default:o(()=>[Y]),_:1},8,["href","active"])])])])]),default:o(()=>[s("div",Z,[s("div",ss,[s("div",null,[s("div",ts,[s("div",es,[s("div",os,[h(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>a(c).trashed=t),class:"rounded-l py-1 w-full border-r-0"},is,512),[[A,a(c).trashed]])]),s("div",ds,[h(s("input",{class:"relative w-full px-4 py-1 rounded-r -focus:ring border",autocomplete:"off",type:"text",name:"search",placeholder:"Search\u2026","onUpdate:modelValue":e[1]||(e[1]=t=>a(c).search=t)},null,512),[[w,a(c).search]])]),s("button",{class:"ml-3 text-sm text-gray-500 hover:text-gray-700 focus:text-indigo-500",type:"button",onClick:e[2]||(e[2]=t=>V())},"Reset")]),s("button",{class:"flex ml-auto text-white bg-orange-600 border-0 py-1 px-4 focus:outline-none hover:bg-orange-800 rounded",onClick:e[3]||(e[3]=t=>r.value=!0)},"Link Candidate")])]),s("div",rs,[s("table",cs,[ps,s("tbody",us,[(p(!0),_(T,null,B(m.jobs.applications,t=>(p(),_("tr",{key:t.id,class:"text-gray-700"},[s("td",_s,[s("span",ms,[s("span",hs,"# - "+l(t.id),1)])]),s("td",xs,[s("span",fs,[s("span",bs,l(t.candidate.first_name)+" "+l(t.candidate.last_name),1)])]),s("td",gs,[s("span",vs,[s("span",ws,l(t==null?void 0:t.ratings)+"/5",1),ys])]),s("td",ks,[s("span",Cs,[t.status_text=="New"?(p(),_("span",js,[s("span",$s,l(t.status_text),1)])):y("",!0)])]),s("td",Vs,[s("span",Ss,l(t.source),1)]),s("td",Ls,[s("div",Ms,[s("span",Ns,l(a(C)(t.created_at).fromNow()),1),n(U,null,{trigger:o(()=>[As]),content:o(()=>[s("button",{class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:e[4]||(e[4]=b=>d.editing=!0)}," Edit "),n(a(D),{href:d.route("jobs.show",t.id),active:"",class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out"},{default:o(()=>[Bs]),_:2},1032,["href"])]),_:2},1024)])])]))),128))])])])]),n(J,{show:r.value,onClose:e[8]||(e[8]=t=>r.value=!r.value)},{title:o(()=>[Ts]),content:o(()=>[s("div",Ds,[s("div",Fs,[Us,n(a(E),{modelValue:a(i).candidate_id,"onUpdate:modelValue":e[5]||(e[5]=t=>a(i).candidate_id=t),options:x.candidates,reduce:t=>t.id,label:"first_name",placeholder:"Select. Candidate"},{option:o(({id:t,first_name:b,last_name:S,resume:L})=>[s("em",zs,[u(l(t)+" "+l(b)+"-"+l(S)+" ",1),L?y("",!0):(p(),_("span",Es,"No Resume"))])]),_:1},8,["modelValue","options","reduce"]),n(j,{message:a(i).errors.candidate_id,class:"mt-2"},null,8,["message"])]),s("div",Os,[Js,h(s("textarea",{id:"description",rows:"3",type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>a(i).source=t),placeholder:"Description...",class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm mt-1 block w-full"},null,512),[[w,a(i).source]]),n(j,{message:a(i).errors.source,class:"mt-2"},null,8,["message"])])])]),footer:o(()=>[n(I,{onClick:e[7]||(e[7]=t=>r.value=!r.value)},{default:o(()=>[Rs]),_:1}),n(R,{class:"ml-3",onClick:$},{default:o(()=>[Is,Ps]),_:1})]),_:1},8,["show"])])]),_:1}))}};export{et as default};
